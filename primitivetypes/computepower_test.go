package primitivetypes

import (
	"math"
	"testing"
)

func TestComputePower(t *testing.T) {
	for _, test := range ComputePowerTestData {
		if got := ComputePower(test.x, test.y); got != test.want {
			t.Errorf("ComputePower(%f, %d) = %f; want %f", test.x, test.y, got, test.want)
		}
	}
}

func BenchmarkComputePower(b *testing.B) {
	for i := 0; i < b.N; i++ {
		ComputePower(math.MaxFloat32, math.MaxUint8)
	}
}

var ComputePowerTestData = []struct {
	x    float64
	y    int64
	want float64
}{
	{1.4434757236195281, 12, 81.830237516844},
	{-1.0006612108596369, -2217, -0.23098094677379155},
	{1.0002834272148748, 9522, 14.85611487317237},
	{12.742204083907403, -32, 4.287204382781865e-36},
	{-1.0000900945810876, 11333, -2.7759579506143144},
	{1.0009527767684638, 2713, 13.245432102894338},
	{-33.39859347898841, -15, -1.3934049046693264e-23},
	{-0.9995431471379314, 16560, 0.0005171321645226984},
	{1.0008047242601628, -19097, 2.130712791834006e-07},
	{26.009670142825087, -38, 1.678324406851151e-54},
	{-1.0004147889224355, 267, -1.1170884251055078},
	{0.9993534485152967, 5181, 0.035053962717426244},
	{-11.46444100677548, 7, -26029761.394682102},
	{-1.0009404392295076, -21095, -2.4449457356502178e-09},
	{1.0008178931464222, 10908, 7464.636242473791},
	{-29.1045777445282, -6, 1.6452510741984703e-09},
	{-1.00055270638175, -1318, 0.4827454556843255},
	{0.9998532237865818, -17595, 13.233043809927974},
	{21.523156734713496, 32, 4.497705189039748e+42},
	{-0.999254177158056, 7637, -0.003352750759687625},
}
