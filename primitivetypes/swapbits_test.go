package primitivetypes

import "testing"

func TestSwapBits(t *testing.T) {
	for _, test := range swapBitTestData {
		if got := SwapBits(test.x, test.i, test.j); got != test.want {
			t.Errorf("SwapBits(%.64b, %d, %d) = %.64b; want %.64b", test.x, test.i, test.j, got, test.want)
		}
	}
}

func BenchmarkSwapBits(b *testing.B) {
	for i := 0; i < b.N; i++ {
		SwapBits(uint64(i), 0, 63)
	}
}

var swapBitTestData = []struct {
	x, i, j uint64
	want    uint64
}{
	{19574056046756, 15, 14, 19574056063140},
	{106, 3, 7, 226},
	{4, 0, 0, 4},
	{18875686394025, 0, 40, 18875686394025},
	{1585902379909443641, 26, 41, 1585902379909443641},
	{1972974, 12, 4, 1968894},
	{6003153017286, 2, 9, 6003153017794},
	{39676266334679, 39, 20, 39676266334679},
	{2578132990845263, 9, 43, 2569336897823567},
	{138, 5, 10, 138},
	{333158736237, 37, 33, 333158736237},
	{5219622264, 14, 7, 5219622264},
	{1012353684, 30, 6, 1012353684},
	{449695844775898, 13, 42, 454093891278810},
	{9724, 8, 3, 9724},
	{7102002221710, 31, 34, 7102002221710},
	{97243179, 14, 25, 130781227},
	{844062, 1, 21, 2941212},
	{5070013658449568, 44, 46, 5070013658449568},
	{48884695872, 4, 26, 48884695872},
}
